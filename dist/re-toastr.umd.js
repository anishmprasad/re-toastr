(function(a,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("react-dom"),require("react"),require("react-spring")):typeof define=="function"&&define.amd?define(["exports","react-dom","react","react-spring"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a["re-toastr"]={},a.ReactDOM,a.React,a["react-spring"]))})(this,function(a,l,u,h){"use strict";var K=Object.defineProperty;var Q=(a,l,u)=>l in a?K(a,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[l]=u;var c=(a,l,u)=>Q(a,typeof l!="symbol"?l+"":l,u);function O(n){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const e=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(o,t,e.get?e:{enumerable:!0,get:()=>n[t]})}}return o.default=n,Object.freeze(o)}const s=O(u);function N(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var m={},E;function w(){if(E)return m;E=1;var n=l;return m.createRoot=n.createRoot,m.hydrateRoot=n.hydrateRoot,m}var C=w();const x=N(C),j=({id:n,title:o,onClose:t,close:e})=>s.createElement("div",{id:n,className:"Toaster__alert"},typeof o=="string"?s.createElement("div",{className:"Toaster__alert_text"},o):s.cloneElement(o,{onClose:t}),t&&e&&s.createElement(A,{onClose:t})),A=({onClose:n})=>s.createElement("button",{className:"Toaster__alert_close",type:"button","aria-label":"Close",onClick:n},"X");function M(n,o){const t=s.useRef();s.useEffect(()=>{t.current=n},[n]),s.useEffect(()=>{function e(){t.current&&t.current()}if(o!==null){let r=setTimeout(e,o);return()=>clearTimeout(r)}},[o])}const P={top:"top","top-left":"top-left","top-right":"top-right",bottom:"bottom","bottom-left":"bottom-left","bottom-right":"bottom-right"},I=n=>{let o={display:"flex",flexDirection:"column",alignItems:"center"};return n.includes("right")?o.alignItems="flex-end":n.includes("left")&&(o.alignItems="flex-start"),o},k=({id:n,message:o,position:t,onRequestRemove:e,requestClose:r=!1,duration:i=3e4,onClose:y=!0})=>{const f=s.useRef(null),[L,_]=s.useState(i),[S,R]=s.useState(!0),Y=t==="top-left"||t==="top-right"||t==="top";M(g,L);const z={config:{mass:1,tension:185,friction:26},from:{opacity:1,height:0,transform:`translateY(${Y?"-100%":0}) scale(1)`},enter:()=>T=>T({opacity:1,height:f.current.getBoundingClientRect().height,transform:"translateY(0) scale(1)"}),leave:{opacity:0,height:0,transform:"translateY(0 scale(0.9)"},onRest:G},V=h.useTransition(S,null,z),W=s.useMemo(()=>I(t),[t]);function X(){_(null)}function $(){_(i)}function G(){S||e()}function g(){R(!1)}s.useEffect(()=>{r&&R(!1)},[r]);function H(){return typeof o=="string"||s.isValidElement(o)?s.createElement(j,{id:n,title:o,onClose:g,close:y}):typeof o=="function"?o({id:n,onClose:g}):null}return s.createElement(s.Fragment,null,V.map(({key:T,item:J,props:b})=>J&&s.createElement(h.animated.div,{key:T,className:"Toaster__message",onMouseEnter:X,onMouseLeave:$,style:{opacity:b.opacity,height:b.height,...W}},s.createElement(h.animated.div,{style:{transform:b.transform,pointerEvents:"auto"},ref:f,className:"Toaster__message-wrapper"},H()))))},D={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},d=class d extends s.Component{constructor(t){super(t);c(this,"state",D);c(this,"notify",(t,e)=>{const r=this.createToastState(t,e),{position:i}=r,y=i.includes("top");return this.setState(f=>({...f,[i]:y?[r,...f[i]]:[...f[i],r]})),{id:r.id,position:r.position}});c(this,"closeAll",()=>{Object.keys(this.state).forEach(t=>{const e=t;this.state[e].forEach(i=>{this.closeToast(i.id,e)})})});c(this,"createToastState",(t,e)=>{const r=++d.idCounter,i=e.hasOwnProperty("position")&&typeof e.position=="string"?e.position:"top";return{id:r,message:t,position:i,showing:!0,duration:typeof e.duration>"u"?5e3:e.duration,onRequestRemove:()=>this.removeToast(String(r),i),type:e.type,onClose:e.close}});c(this,"closeToast",(t,e)=>{this.setState(r=>({...r,[e]:r[e].map(i=>i.id!==t?i:{...i,requestClose:!0})}))});c(this,"removeToast",(t,e)=>{this.setState(r=>({...r,[e]:r[e].filter(i=>i.id!==t)}))});c(this,"getStyle",t=>{let e={maxWidth:"560px",position:"fixed",zIndex:105500,pointerEvents:"none"};return(t==="top"||t==="bottom")&&(e.margin="0 auto",e.textAlign="center"),t.includes("top")&&(e.top=0),t.includes("bottom")&&(e.bottom=0),t.includes("left")||(e.right=0),t.includes("right")||(e.left=0),e});t.notify(this.notify,this.closeAll,this.closeToast)}render(){return Object.keys(this.state).map(t=>{const e=t,r=this.state[e];return s.createElement("span",{key:t,className:"Toaster__manager-"+e,style:this.getStyle(e)},r.map(i=>s.createElement(k,{position:e,key:i.id,...i})))})}};c(d,"idCounter",0);let p=d;const q=typeof window<"u"&&typeof window.document<"u",v="toast";class B{constructor(){c(this,"createNotification",()=>{});c(this,"removeAll",()=>{});c(this,"closeToast",()=>{});c(this,"closeAll",()=>{this.removeAll&&this.removeAll()});c(this,"bindNotify",(o,t,e)=>{this.createNotification=o,this.removeAll=t,this.closeToast=e});c(this,"notify",(o,t={})=>{if(this.createNotification)return this.createNotification(o,t)});c(this,"close",(o,t)=>{this.closeToast&&this.closeToast(o,t)});if(!q)return;let o;const t=document.getElementById(v);if(t)o=t;else{const r=document.createElement("div");r.id=v,r.className="Toaster",document.body!=null&&document.body.appendChild(r),o=r}x.createRoot(o).render(s.createElement(p,{notify:this.bindNotify}))}}const F=new B;a.Position=P,a.default=F,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
