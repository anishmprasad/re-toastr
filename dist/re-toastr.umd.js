(function(a,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("react-dom"),require("react"),require("react-spring")):typeof define=="function"&&define.amd?define(["exports","react-dom","react","react-spring"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a["re-toastr"]={},a.ReactDOM,a.React,a["react-spring"]))})(this,function(a,l,u,h){"use strict";var J=Object.defineProperty;var K=(a,l,u)=>l in a?J(a,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[l]=u;var c=(a,l,u)=>K(a,typeof l!="symbol"?l+"":l,u);function S(n){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const e=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(o,t,e.get?e:{enumerable:!0,get:()=>n[t]})}}return o.default=n,Object.freeze(o)}const s=S(u);function N(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f={},_;function C(){if(_)return f;_=1;var n=l;if(process.env.NODE_ENV==="production")f.createRoot=n.createRoot,f.hydrateRoot=n.hydrateRoot;else{var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;f.createRoot=function(t,e){o.usingClientEntryPoint=!0;try{return n.createRoot(t,e)}finally{o.usingClientEntryPoint=!1}},f.hydrateRoot=function(t,e,r){o.usingClientEntryPoint=!0;try{return n.hydrateRoot(t,e,r)}finally{o.usingClientEntryPoint=!1}}}return f}var w=C();const P=N(w),x=({id:n,title:o,onClose:t,close:e})=>s.createElement("div",{id:n,className:"Toaster__alert"},typeof o=="string"?s.createElement("div",{className:"Toaster__alert_text"},o):s.cloneElement(o,{onClose:t}),t&&e&&s.createElement(A,{onClose:t})),A=({onClose:n})=>s.createElement("button",{className:"Toaster__alert_close",type:"button","aria-label":"Close",onClick:n},"X");function I(n,o){const t=s.useRef();s.useEffect(()=>{t.current=n},[n]),s.useEffect(()=>{function e(){t.current&&t.current()}if(o!==null){let r=setTimeout(e,o);return()=>clearTimeout(r)}},[o])}const j={top:"top","top-left":"top-left","top-right":"top-right",bottom:"bottom","bottom-left":"bottom-left","bottom-right":"bottom-right"},D=n=>{let o={display:"flex",flexDirection:"column",alignItems:"center"};return n.includes("right")?o.alignItems="flex-end":n.includes("left")&&(o.alignItems="flex-start"),o},M=({id:n,message:o,position:t,onRequestRemove:e,requestClose:r=!1,duration:i=3e4,onClose:p=!0})=>{const m=s.useRef(null),[F,R]=s.useState(i),[v,O]=s.useState(!0),Y=t==="top-left"||t==="top-right"||t==="top";I(g,F);const z={config:{mass:1,tension:185,friction:26},from:{opacity:1,height:0,transform:`translateY(${Y?"-100%":0}) scale(1)`},enter:()=>E=>E({opacity:1,height:m.current.getBoundingClientRect().height,transform:"translateY(0) scale(1)"}),leave:{opacity:0,height:0,transform:"translateY(0 scale(0.9)"},onRest:$},U=h.useTransition(v,null,z),V=s.useMemo(()=>D(t),[t]);function W(){R(null)}function X(){R(i)}function $(){v||e()}function g(){O(!1)}s.useEffect(()=>{r&&O(!1)},[r]);function G(){return typeof o=="string"||s.isValidElement(o)?s.createElement(x,{id:n,title:o,onClose:g,close:p}):typeof o=="function"?o({id:n,onClose:g}):null}return s.createElement(s.Fragment,null,U.map(({key:E,item:H,props:T})=>H&&s.createElement(h.animated.div,{key:E,className:"Toaster__message",onMouseEnter:W,onMouseLeave:X,style:{opacity:T.opacity,height:T.height,...V}},s.createElement(h.animated.div,{style:{transform:T.transform,pointerEvents:"auto"},ref:m,className:"Toaster__message-wrapper"},G()))))},k={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},d=class d extends s.Component{constructor(t){super(t);c(this,"state",k);c(this,"notify",(t,e)=>{const r=this.createToastState(t,e),{position:i}=r,p=i.includes("top");return this.setState(m=>({...m,[i]:p?[r,...m[i]]:[...m[i],r]})),{id:r.id,position:r.position}});c(this,"closeAll",()=>{Object.keys(this.state).forEach(t=>{const e=t;this.state[e].forEach(i=>{this.closeToast(i.id,e)})})});c(this,"createToastState",(t,e)=>{const r=++d.idCounter,i=e.hasOwnProperty("position")&&typeof e.position=="string"?e.position:"top";return{id:r,message:t,position:i,showing:!0,duration:typeof e.duration>"u"?5e3:e.duration,onRequestRemove:()=>this.removeToast(String(r),i),type:e.type,onClose:e.close}});c(this,"closeToast",(t,e)=>{this.setState(r=>({...r,[e]:r[e].map(i=>i.id!==t?i:{...i,requestClose:!0})}))});c(this,"removeToast",(t,e)=>{this.setState(r=>({...r,[e]:r[e].filter(i=>i.id!==t)}))});c(this,"getStyle",t=>{let e={maxWidth:"560px",position:"fixed",zIndex:105500,pointerEvents:"none"};return(t==="top"||t==="bottom")&&(e.margin="0 auto",e.textAlign="center"),t.includes("top")&&(e.top=0),t.includes("bottom")&&(e.bottom=0),t.includes("left")||(e.right=0),t.includes("right")||(e.left=0),e});t.notify(this.notify,this.closeAll,this.closeToast)}render(){return Object.keys(this.state).map(t=>{const e=t,r=this.state[e];return s.createElement("span",{key:t,className:"Toaster__manager-"+e,style:this.getStyle(e)},r.map(i=>s.createElement(M,{position:e,key:i.id,...i})))})}};c(d,"idCounter",0);let y=d;const q=typeof window<"u"&&typeof window.document<"u",b="toast";class L{constructor(){c(this,"createNotification",()=>{});c(this,"removeAll",()=>{});c(this,"closeToast",()=>{});c(this,"closeAll",()=>{this.removeAll&&this.removeAll()});c(this,"bindNotify",(o,t,e)=>{this.createNotification=o,this.removeAll=t,this.closeToast=e});c(this,"notify",(o,t={})=>{if(this.createNotification)return this.createNotification(o,t)});c(this,"close",(o,t)=>{this.closeToast&&this.closeToast(o,t)});if(!q)return;let o;const t=document.getElementById(b);if(t)o=t;else{const r=document.createElement("div");r.id=b,r.className="Toaster",document.body!=null&&document.body.appendChild(r),o=r}P.createRoot(o).render(s.createElement(y,{notify:this.bindNotify}))}}const B=new L;a.Position=j,a.default=B,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
